(()=>{"use strict";var t={34:(t,e,r)=>{var n=r(4901);t.exports=function(t){return"object"==typeof t?null!==t:n(t)}},81:(t,e,r)=>{var n=r(9565),o=r(9306),i=r(8551),a=r(6823),c=r(851),s=TypeError;t.exports=function(t,e){var r=arguments.length<2?c(t):e;if(o(r))return i(n(r,t));throw new s(a(t)+" is not iterable")}},280:(t,e,r)=>{var n=r(6518),o=r(7751),i=r(6395),a=r(550),c=r(916).CONSTRUCTOR,s=r(3438),u=o("Promise"),l=i&&!c;n({target:"Promise",stat:!0,forced:i||c},{resolve:function(t){return s(l&&this===u?a:this,t)}})},283:(t,e,r)=>{var n=r(9504),o=r(9039),i=r(4901),a=r(9297),c=r(3724),s=r(350).CONFIGURABLE,u=r(3706),l=r(1181),f=l.enforce,p=l.get,d=String,v=Object.defineProperty,h=n("".slice),y=n("".replace),m=n([].join),g=c&&!o((function(){return 8!==v((function(){}),"length",{value:8}).length})),x=String(String).split("String"),S=t.exports=function(t,e,r){"Symbol("===h(d(e),0,7)&&(e="["+y(d(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!a(t,"name")||s&&t.name!==e)&&(c?v(t,"name",{value:e,configurable:!0}):t.name=e),g&&r&&a(r,"arity")&&t.length!==r.arity&&v(t,"length",{value:r.arity});try{r&&a(r,"constructor")&&r.constructor?c&&v(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var n=f(t);return a(n,"source")||(n.source=m(x,"string"==typeof e?e:"")),t};Function.prototype.toString=S((function(){return i(this)&&p(this).source||u(this)}),"toString")},350:(t,e,r)=>{var n=r(3724),o=r(9297),i=Function.prototype,a=n&&Object.getOwnPropertyDescriptor,c=o(i,"name"),s=c&&"something"===function(){}.name,u=c&&(!n||n&&a(i,"name").configurable);t.exports={EXISTS:c,PROPER:s,CONFIGURABLE:u}},397:(t,e,r)=>{var n=r(7751);t.exports=n("document","documentElement")},421:t=>{t.exports={}},436:(t,e,r)=>{var n,o,i,a=r(6518),c=r(6395),s=r(6193),u=r(2195),l=r(9565),f=r(6840),p=r(2967),d=r(687),v=r(7633),h=r(9306),y=r(4901),m=r(34),g=r(679),x=r(2293),S=r(9225).set,b=r(1955),E=r(3138),w=r(1103),O=r(8265),L=r(1181),T=r(550),C=r(916),j=r(6043),A="Promise",R=C.CONSTRUCTOR,I=C.REJECTION_EVENT,k=C.SUBCLASSING,N=L.getterFor(A),P=L.set,M=T&&T.prototype,_=T,D=M,B=u.TypeError,F=u.document,U=u.process,G=j.f,z=G,q=!!(F&&F.createEvent&&u.dispatchEvent),H="unhandledrejection",W=function(t){var e;return!(!m(t)||!y(e=t.then))&&e},Y=function(t,e){var r,n,o,i=e.value,a=1===e.state,c=a?t.ok:t.fail,s=t.resolve,u=t.reject,f=t.domain;try{c?(a||(2===e.rejection&&X(e),e.rejection=1),!0===c?r=i:(f&&f.enter(),r=c(i),f&&(f.exit(),o=!0)),r===t.promise?u(new B("Promise-chain cycle")):(n=W(r))?l(n,r,s,u):s(r)):u(i)}catch(t){f&&!o&&f.exit(),u(t)}},V=function(t,e){t.notified||(t.notified=!0,b((function(){for(var r,n=t.reactions;r=n.get();)Y(r,t);t.notified=!1,e&&!t.rejection&&K(t)})))},$=function(t,e,r){var n,o;q?((n=F.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),u.dispatchEvent(n)):n={promise:e,reason:r},!I&&(o=u["on"+t])?o(n):t===H&&E("Unhandled promise rejection",r)},K=function(t){l(S,u,(function(){var e,r=t.facade,n=t.value;if(J(t)&&(e=w((function(){s?U.emit("unhandledRejection",n,r):$(H,r,n)})),t.rejection=s||J(t)?2:1,e.error))throw e.value}))},J=function(t){return 1!==t.rejection&&!t.parent},X=function(t){l(S,u,(function(){var e=t.facade;s?U.emit("rejectionHandled",e):$("rejectionhandled",e,t.value)}))},Z=function(t,e,r){return function(n){t(e,n,r)}},Q=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,V(t,!0))},tt=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw new B("Promise can't be resolved itself");var n=W(e);n?b((function(){var r={done:!1};try{l(n,e,Z(tt,r,t),Z(Q,r,t))}catch(e){Q(r,e,t)}})):(t.value=e,t.state=1,V(t,!1))}catch(e){Q({done:!1},e,t)}}};if(R&&(D=(_=function(t){g(this,D),h(t),l(n,this);var e=N(this);try{t(Z(tt,e),Z(Q,e))}catch(t){Q(e,t)}}).prototype,(n=function(t){P(this,{type:A,done:!1,notified:!1,parent:!1,reactions:new O,rejection:!1,state:0,value:null})}).prototype=f(D,"then",(function(t,e){var r=N(this),n=G(x(this,_));return r.parent=!0,n.ok=!y(t)||t,n.fail=y(e)&&e,n.domain=s?U.domain:void 0,0===r.state?r.reactions.add(n):b((function(){Y(n,r)})),n.promise})),o=function(){var t=new n,e=N(t);this.promise=t,this.resolve=Z(tt,e),this.reject=Z(Q,e)},j.f=G=function(t){return t===_||undefined===t?new o(t):z(t)},!c&&y(T)&&M!==Object.prototype)){i=M.then,k||f(M,"then",(function(t,e){var r=this;return new _((function(t,e){l(i,r,t,e)})).then(t,e)}),{unsafe:!0});try{delete M.constructor}catch(t){}p&&p(M,D)}a({global:!0,constructor:!0,wrap:!0,forced:R},{Promise:_}),d(_,A,!1,!0),v(A)},511:(t,e,r)=>{var n=r(788),o=TypeError;t.exports=function(t){if(n(t))throw new o("The method doesn't accept regular expressions");return t}},537:(t,e,r)=>{var n=r(550),o=r(4428),i=r(916).CONSTRUCTOR;t.exports=i||!o((function(t){n.all(t).then(void 0,(function(){}))}))},550:(t,e,r)=>{var n=r(2195);t.exports=n.Promise},616:(t,e,r)=>{var n=r(9039);t.exports=!n((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},655:(t,e,r)=>{var n=r(6955),o=String;t.exports=function(t){if("Symbol"===n(t))throw new TypeError("Cannot convert a Symbol value to a string");return o(t)}},679:(t,e,r)=>{var n=r(1625),o=TypeError;t.exports=function(t,e){if(n(e,t))return t;throw new o("Incorrect invocation")}},687:(t,e,r)=>{var n=r(4913).f,o=r(9297),i=r(8227)("toStringTag");t.exports=function(t,e,r){t&&!r&&(t=t.prototype),t&&!o(t,i)&&n(t,i,{configurable:!0,value:e})}},741:t=>{var e=Math.ceil,r=Math.floor;t.exports=Math.trunc||function(t){var n=+t;return(n>0?r:e)(n)}},757:(t,e,r)=>{var n=r(7751),o=r(4901),i=r(1625),a=r(7040),c=Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=n("Symbol");return o(e)&&i(e.prototype,c(t))}},788:(t,e,r)=>{var n=r(34),o=r(4576),i=r(8227)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[i])?!!e:"RegExp"===o(t))}},851:(t,e,r)=>{var n=r(6955),o=r(5966),i=r(4117),a=r(6269),c=r(8227)("iterator");t.exports=function(t){if(!i(t))return o(t,c)||o(t,"@@iterator")||a[n(t)]}},916:(t,e,r)=>{var n=r(2195),o=r(550),i=r(4901),a=r(2796),c=r(3706),s=r(8227),u=r(4215),l=r(6395),f=r(9519),p=o&&o.prototype,d=s("species"),v=!1,h=i(n.PromiseRejectionEvent),y=a("Promise",(function(){var t=c(o),e=t!==String(o);if(!e&&66===f)return!0;if(l&&(!p.catch||!p.finally))return!0;if(!f||f<51||!/native code/.test(t)){var r=new o((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};if((r.constructor={})[d]=n,!(v=r.then((function(){}))instanceof n))return!0}return!(e||"BROWSER"!==u&&"DENO"!==u||h)}));t.exports={CONSTRUCTOR:y,REJECTION_EVENT:h,SUBCLASSING:v}},1072:(t,e,r)=>{var n=r(1828),o=r(8727);t.exports=Object.keys||function(t){return n(t,o)}},1088:(t,e,r)=>{var n=r(6518),o=r(9565),i=r(6395),a=r(350),c=r(4901),s=r(3994),u=r(2787),l=r(2967),f=r(687),p=r(6699),d=r(6840),v=r(8227),h=r(6269),y=r(7657),m=a.PROPER,g=a.CONFIGURABLE,x=y.IteratorPrototype,S=y.BUGGY_SAFARI_ITERATORS,b=v("iterator"),E="keys",w="values",O="entries",L=function(){return this};t.exports=function(t,e,r,a,v,y,T){s(r,e,a);var C,j,A,R=function(t){if(t===v&&M)return M;if(!S&&t&&t in N)return N[t];switch(t){case E:case w:case O:return function(){return new r(this,t)}}return function(){return new r(this)}},I=e+" Iterator",k=!1,N=t.prototype,P=N[b]||N["@@iterator"]||v&&N[v],M=!S&&P||R(v),_="Array"===e&&N.entries||P;if(_&&(C=u(_.call(new t)))!==Object.prototype&&C.next&&(i||u(C)===x||(l?l(C,x):c(C[b])||d(C,b,L)),f(C,I,!0,!0),i&&(h[I]=L)),m&&v===w&&P&&P.name!==w&&(!i&&g?p(N,"name",w):(k=!0,M=function(){return o(P,this)})),v)if(j={values:R(w),keys:y?M:R(E),entries:R(O)},T)for(A in j)(S||k||!(A in N))&&d(N,A,j[A]);else n({target:e,proto:!0,forced:S||k},j);return i&&!T||N[b]===M||d(N,b,M,{name:v}),h[e]=M,j}},1103:t=>{t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},1181:(t,e,r)=>{var n,o,i,a=r(8622),c=r(2195),s=r(34),u=r(6699),l=r(9297),f=r(7629),p=r(6119),d=r(421),v="Object already initialized",h=c.TypeError,y=c.WeakMap;if(a||f.state){var m=f.state||(f.state=new y);m.get=m.get,m.has=m.has,m.set=m.set,n=function(t,e){if(m.has(t))throw new h(v);return e.facade=t,m.set(t,e),e},o=function(t){return m.get(t)||{}},i=function(t){return m.has(t)}}else{var g=p("state");d[g]=!0,n=function(t,e){if(l(t,g))throw new h(v);return e.facade=t,u(t,g,e),e},o=function(t){return l(t,g)?t[g]:{}},i=function(t){return l(t,g)}}t.exports={set:n,get:o,has:i,enforce:function(t){return i(t)?o(t):n(t,{})},getterFor:function(t){return function(e){var r;if(!s(e)||(r=o(e)).type!==t)throw new h("Incompatible receiver, "+t+" required");return r}}}},1291:(t,e,r)=>{var n=r(741);t.exports=function(t){var e=+t;return e!=e||0===e?0:n(e)}},1392:(t,e,r)=>{var n,o=r(6518),i=r(7476),a=r(7347).f,c=r(8014),s=r(655),u=r(511),l=r(7750),f=r(1436),p=r(6395),d=i("".slice),v=Math.min,h=f("startsWith");o({target:"String",proto:!0,forced:!!(p||h||(n=a(String.prototype,"startsWith"),!n||n.writable))&&!h},{startsWith:function(t){var e=s(l(this));u(t);var r=c(v(arguments.length>1?arguments[1]:void 0,e.length)),n=s(t);return d(e,r,r+n.length)===n}})},1436:(t,e,r)=>{var n=r(8227)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[n]=!1,"/./"[t](e)}catch(t){}}return!1}},1481:(t,e,r)=>{var n=r(6518),o=r(6043);n({target:"Promise",stat:!0,forced:r(916).CONSTRUCTOR},{reject:function(t){var e=o.f(this);return(0,e.reject)(t),e.promise}})},1625:(t,e,r)=>{var n=r(9504);t.exports=n({}.isPrototypeOf)},1699:(t,e,r)=>{var n=r(6518),o=r(9504),i=r(511),a=r(7750),c=r(655),s=r(1436),u=o("".indexOf);n({target:"String",proto:!0,forced:!s("includes")},{includes:function(t){return!!~u(c(a(this)),c(i(t)),arguments.length>1?arguments[1]:void 0)}})},1828:(t,e,r)=>{var n=r(9504),o=r(9297),i=r(5397),a=r(9617).indexOf,c=r(421),s=n([].push);t.exports=function(t,e){var r,n=i(t),u=0,l=[];for(r in n)!o(c,r)&&o(n,r)&&s(l,r);for(;e.length>u;)o(n,r=e[u++])&&(~a(l,r)||s(l,r));return l}},1955:(t,e,r)=>{var n,o,i,a,c,s=r(2195),u=r(3389),l=r(6080),f=r(9225).set,p=r(8265),d=r(9544),v=r(4265),h=r(7860),y=r(6193),m=s.MutationObserver||s.WebKitMutationObserver,g=s.document,x=s.process,S=s.Promise,b=u("queueMicrotask");if(!b){var E=new p,w=function(){var t,e;for(y&&(t=x.domain)&&t.exit();e=E.get();)try{e()}catch(t){throw E.head&&n(),t}t&&t.enter()};d||y||h||!m||!g?!v&&S&&S.resolve?((a=S.resolve(void 0)).constructor=S,c=l(a.then,a),n=function(){c(w)}):y?n=function(){x.nextTick(w)}:(f=l(f,s),n=function(){f(w)}):(o=!0,i=g.createTextNode(""),new m(w).observe(i,{characterData:!0}),n=function(){i.data=o=!o}),b=function(t){E.head||n(),E.add(t)}}t.exports=b},2003:(t,e,r)=>{var n=r(6518),o=r(6395),i=r(916).CONSTRUCTOR,a=r(550),c=r(7751),s=r(4901),u=r(6840),l=a&&a.prototype;if(n({target:"Promise",proto:!0,forced:i,real:!0},{catch:function(t){return this.then(void 0,t)}}),!o&&s(a)){var f=c("Promise").prototype.catch;l.catch!==f&&u(l,"catch",f,{unsafe:!0})}},2106:(t,e,r)=>{var n=r(283),o=r(4913);t.exports=function(t,e,r){return r.get&&n(r.get,e,{getter:!0}),r.set&&n(r.set,e,{setter:!0}),o.f(t,e,r)}},2140:(t,e,r)=>{var n={};n[r(8227)("toStringTag")]="z",t.exports="[object z]"===String(n)},2195:function(t,e,r){var n=function(t){return t&&t.Math===Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||n("object"==typeof this&&this)||function(){return this}()||Function("return this")()},2211:(t,e,r)=>{var n=r(9039);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},2293:(t,e,r)=>{var n=r(8551),o=r(5548),i=r(4117),a=r(8227)("species");t.exports=function(t,e){var r,c=n(t).constructor;return void 0===c||i(r=n(c)[a])?e:o(r)}},2360:(t,e,r)=>{var n,o=r(8551),i=r(6801),a=r(8727),c=r(421),s=r(397),u=r(4055),l=r(6119),f="prototype",p="script",d=l("IE_PROTO"),v=function(){},h=function(t){return"<"+p+">"+t+"</"+p+">"},y=function(t){t.write(h("")),t.close();var e=t.parentWindow.Object;return t=null,e},m=function(){try{n=new ActiveXObject("htmlfile")}catch(t){}var t,e,r;m="undefined"!=typeof document?document.domain&&n?y(n):(e=u("iframe"),r="java"+p+":",e.style.display="none",s.appendChild(e),e.src=String(r),(t=e.contentWindow.document).open(),t.write(h("document.F=Object")),t.close(),t.F):y(n);for(var o=a.length;o--;)delete m[f][a[o]];return m()};c[d]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(v[f]=o(t),r=new v,v[f]=null,r[d]=t):r=m(),void 0===e?r:i.f(r,e)}},2529:t=>{t.exports=function(t,e){return{value:t,done:e}}},2652:(t,e,r)=>{var n=r(6080),o=r(9565),i=r(8551),a=r(6823),c=r(4209),s=r(6198),u=r(1625),l=r(81),f=r(851),p=r(9539),d=TypeError,v=function(t,e){this.stopped=t,this.result=e},h=v.prototype;t.exports=function(t,e,r){var y,m,g,x,S,b,E,w=r&&r.that,O=!(!r||!r.AS_ENTRIES),L=!(!r||!r.IS_RECORD),T=!(!r||!r.IS_ITERATOR),C=!(!r||!r.INTERRUPTED),j=n(e,w),A=function(t){return y&&p(y,"normal",t),new v(!0,t)},R=function(t){return O?(i(t),C?j(t[0],t[1],A):j(t[0],t[1])):C?j(t,A):j(t)};if(L)y=t.iterator;else if(T)y=t;else{if(!(m=f(t)))throw new d(a(t)+" is not iterable");if(c(m)){for(g=0,x=s(t);x>g;g++)if((S=R(t[g]))&&u(h,S))return S;return new v(!1)}y=l(t,m)}for(b=L?t.next:y.next;!(E=o(b,y)).done;){try{S=R(E.value)}catch(t){p(y,"throw",t)}if("object"==typeof S&&S&&u(h,S))return S}return new v(!1)}},2777:(t,e,r)=>{var n=r(9565),o=r(34),i=r(757),a=r(5966),c=r(4270),s=r(8227),u=TypeError,l=s("toPrimitive");t.exports=function(t,e){if(!o(t)||i(t))return t;var r,s=a(t,l);if(s){if(void 0===e&&(e="default"),r=n(s,t,e),!o(r)||i(r))return r;throw new u("Can't convert object to primitive value")}return void 0===e&&(e="number"),c(t,e)}},2787:(t,e,r)=>{var n=r(9297),o=r(4901),i=r(8981),a=r(6119),c=r(2211),s=a("IE_PROTO"),u=Object,l=u.prototype;t.exports=c?u.getPrototypeOf:function(t){var e=i(t);if(n(e,s))return e[s];var r=e.constructor;return o(r)&&e instanceof r?r.prototype:e instanceof u?l:null}},2796:(t,e,r)=>{var n=r(9039),o=r(4901),i=/#|\.prototype\./,a=function(t,e){var r=s[c(t)];return r===l||r!==u&&(o(e)?n(e):!!e)},c=a.normalize=function(t){return String(t).replace(i,".").toLowerCase()},s=a.data={},u=a.NATIVE="N",l=a.POLYFILL="P";t.exports=a},2812:t=>{var e=TypeError;t.exports=function(t,r){if(t<r)throw new e("Not enough arguments");return t}},2839:(t,e,r)=>{var n=r(2195).navigator,o=n&&n.userAgent;t.exports=o?String(o):""},2953:(t,e,r)=>{var n=r(2195),o=r(7400),i=r(9296),a=r(3792),c=r(6699),s=r(687),u=r(8227)("iterator"),l=a.values,f=function(t,e){if(t){if(t[u]!==l)try{c(t,u,l)}catch(e){t[u]=l}if(s(t,e,!0),o[e])for(var r in a)if(t[r]!==a[r])try{c(t,r,a[r])}catch(e){t[r]=a[r]}}};for(var p in o)f(n[p]&&n[p].prototype,p);f(i,"DOMTokenList")},2967:(t,e,r)=>{var n=r(6706),o=r(34),i=r(7750),a=r(3506);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=n(Object.prototype,"__proto__","set"))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return i(r),a(n),o(r)?(e?t(r,n):r.__proto__=n,r):r}}():void 0)},3138:t=>{t.exports=function(t,e){try{1===arguments.length?console.error(t):console.error(t,e)}catch(t){}}},3362:(t,e,r)=>{r(436),r(6499),r(2003),r(7743),r(1481),r(280)},3389:(t,e,r)=>{var n=r(2195),o=r(3724),i=Object.getOwnPropertyDescriptor;t.exports=function(t){if(!o)return n[t];var e=i(n,t);return e&&e.value}},3392:(t,e,r)=>{var n=r(9504),o=0,i=Math.random(),a=n(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++o+i,36)}},3438:(t,e,r)=>{var n=r(8551),o=r(34),i=r(6043);t.exports=function(t,e){if(n(t),o(e)&&e.constructor===t)return e;var r=i.f(t);return(0,r.resolve)(e),r.promise}},3506:(t,e,r)=>{var n=r(3925),o=String,i=TypeError;t.exports=function(t){if(n(t))return t;throw new i("Can't set "+o(t)+" as a prototype")}},3517:(t,e,r)=>{var n=r(9504),o=r(9039),i=r(4901),a=r(6955),c=r(7751),s=r(3706),u=function(){},l=c("Reflect","construct"),f=/^\s*(?:class|function)\b/,p=n(f.exec),d=!f.test(u),v=function(t){if(!i(t))return!1;try{return l(u,[],t),!0}catch(t){return!1}},h=function(t){if(!i(t))return!1;switch(a(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!p(f,s(t))}catch(t){return!0}};h.sham=!0,t.exports=!l||o((function(){var t;return v(v.call)||!v(Object)||!v((function(){t=!0}))||t}))?h:v},3706:(t,e,r)=>{var n=r(9504),o=r(4901),i=r(7629),a=n(Function.toString);o(i.inspectSource)||(i.inspectSource=function(t){return a(t)}),t.exports=i.inspectSource},3717:(t,e)=>{e.f=Object.getOwnPropertySymbols},3724:(t,e,r)=>{var n=r(9039);t.exports=!n((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},3792:(t,e,r)=>{var n=r(5397),o=r(6469),i=r(6269),a=r(1181),c=r(4913).f,s=r(1088),u=r(2529),l=r(6395),f=r(3724),p="Array Iterator",d=a.set,v=a.getterFor(p);t.exports=s(Array,"Array",(function(t,e){d(this,{type:p,target:n(t),index:0,kind:e})}),(function(){var t=v(this),e=t.target,r=t.index++;if(!e||r>=e.length)return t.target=null,u(void 0,!0);switch(t.kind){case"keys":return u(r,!1);case"values":return u(e[r],!1)}return u([r,e[r]],!1)}),"values");var h=i.Arguments=i.Array;if(o("keys"),o("values"),o("entries"),!l&&f&&"values"!==h.name)try{c(h,"name",{value:"values"})}catch(t){}},3925:(t,e,r)=>{var n=r(34);t.exports=function(t){return n(t)||null===t}},3994:(t,e,r)=>{var n=r(7657).IteratorPrototype,o=r(2360),i=r(6980),a=r(687),c=r(6269),s=function(){return this};t.exports=function(t,e,r,u){var l=e+" Iterator";return t.prototype=o(n,{next:i(+!u,r)}),a(t,l,!1,!0),c[l]=s,t}},4055:(t,e,r)=>{var n=r(2195),o=r(34),i=n.document,a=o(i)&&o(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},4117:t=>{t.exports=function(t){return null==t}},4209:(t,e,r)=>{var n=r(8227),o=r(6269),i=n("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||a[i]===t)}},4215:(t,e,r)=>{var n=r(2195),o=r(2839),i=r(4576),a=function(t){return o.slice(0,t.length)===t};t.exports=a("Bun/")?"BUN":a("Cloudflare-Workers")?"CLOUDFLARE":a("Deno/")?"DENO":a("Node.js/")?"NODE":n.Bun&&"string"==typeof Bun.version?"BUN":n.Deno&&"object"==typeof Deno.version?"DENO":"process"===i(n.process)?"NODE":n.window&&n.document?"BROWSER":"REST"},4265:(t,e,r)=>{var n=r(2839);t.exports=/ipad|iphone|ipod/i.test(n)&&"undefined"!=typeof Pebble},4270:(t,e,r)=>{var n=r(9565),o=r(4901),i=r(34),a=TypeError;t.exports=function(t,e){var r,c;if("string"===e&&o(r=t.toString)&&!i(c=n(r,t)))return c;if(o(r=t.valueOf)&&!i(c=n(r,t)))return c;if("string"!==e&&o(r=t.toString)&&!i(c=n(r,t)))return c;throw new a("Can't convert object to primitive value")}},4428:(t,e,r)=>{var n=r(8227)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[n]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){try{if(!e&&!o)return!1}catch(t){return!1}var r=!1;try{var i={};i[n]=function(){return{next:function(){return{done:r=!0}}}},t(i)}catch(t){}return r}},4495:(t,e,r)=>{var n=r(9519),o=r(9039),i=r(2195).String;t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol("symbol detection");return!i(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},4576:(t,e,r)=>{var n=r(9504),o=n({}.toString),i=n("".slice);t.exports=function(t){return i(o(t),8,-1)}},4901:t=>{var e="object"==typeof document&&document.all;t.exports=void 0===e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},4913:(t,e,r)=>{var n=r(3724),o=r(5917),i=r(8686),a=r(8551),c=r(6969),s=TypeError,u=Object.defineProperty,l=Object.getOwnPropertyDescriptor,f="enumerable",p="configurable",d="writable";e.f=n?i?function(t,e,r){if(a(t),e=c(e),a(r),"function"==typeof t&&"prototype"===e&&"value"in r&&d in r&&!r[d]){var n=l(t,e);n&&n[d]&&(t[e]=r.value,r={configurable:p in r?r[p]:n[p],enumerable:f in r?r[f]:n[f],writable:!1})}return u(t,e,r)}:u:function(t,e,r){if(a(t),e=c(e),a(r),o)try{return u(t,e,r)}catch(t){}if("get"in r||"set"in r)throw new s("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},5031:(t,e,r)=>{var n=r(7751),o=r(9504),i=r(8480),a=r(3717),c=r(8551),s=o([].concat);t.exports=n("Reflect","ownKeys")||function(t){var e=i.f(c(t)),r=a.f;return r?s(e,r(t)):e}},5397:(t,e,r)=>{var n=r(7055),o=r(7750);t.exports=function(t){return n(o(t))}},5548:(t,e,r)=>{var n=r(3517),o=r(6823),i=TypeError;t.exports=function(t){if(n(t))return t;throw new i(o(t)+" is not a constructor")}},5610:(t,e,r)=>{var n=r(1291),o=Math.max,i=Math.min;t.exports=function(t,e){var r=n(t);return r<0?o(r+e,0):i(r,e)}},5745:(t,e,r)=>{var n=r(7629);t.exports=function(t,e){return n[t]||(n[t]=e||{})}},5917:(t,e,r)=>{var n=r(3724),o=r(9039),i=r(4055);t.exports=!n&&!o((function(){return 7!==Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},5966:(t,e,r)=>{var n=r(9306),o=r(4117);t.exports=function(t,e){var r=t[e];return o(r)?void 0:n(r)}},6043:(t,e,r)=>{var n=r(9306),o=TypeError,i=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw new o("Bad Promise constructor");e=t,r=n})),this.resolve=n(e),this.reject=n(r)};t.exports.f=function(t){return new i(t)}},6080:(t,e,r)=>{var n=r(7476),o=r(9306),i=r(616),a=n(n.bind);t.exports=function(t,e){return o(t),void 0===e?t:i?a(t,e):function(){return t.apply(e,arguments)}}},6119:(t,e,r)=>{var n=r(5745),o=r(3392),i=n("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},6193:(t,e,r)=>{var n=r(4215);t.exports="NODE"===n},6198:(t,e,r)=>{var n=r(8014);t.exports=function(t){return n(t.length)}},6269:t=>{t.exports={}},6395:t=>{t.exports=!1},6469:(t,e,r)=>{var n=r(8227),o=r(2360),i=r(4913).f,a=n("unscopables"),c=Array.prototype;void 0===c[a]&&i(c,a,{configurable:!0,value:o(null)}),t.exports=function(t){c[a][t]=!0}},6499:(t,e,r)=>{var n=r(6518),o=r(9565),i=r(9306),a=r(6043),c=r(1103),s=r(2652);n({target:"Promise",stat:!0,forced:r(537)},{all:function(t){var e=this,r=a.f(e),n=r.resolve,u=r.reject,l=c((function(){var r=i(e.resolve),a=[],c=0,l=1;s(t,(function(t){var i=c++,s=!1;l++,o(r,e,t).then((function(t){s||(s=!0,a[i]=t,--l||n(a))}),u)})),--l||n(a)}));return l.error&&u(l.value),r.promise}})},6518:(t,e,r)=>{var n=r(2195),o=r(7347).f,i=r(6699),a=r(6840),c=r(9433),s=r(7740),u=r(2796);t.exports=function(t,e){var r,l,f,p,d,v=t.target,h=t.global,y=t.stat;if(r=h?n:y?n[v]||c(v,{}):n[v]&&n[v].prototype)for(l in e){if(p=e[l],f=t.dontCallGetSet?(d=o(r,l))&&d.value:r[l],!u(h?l:v+(y?".":"#")+l,t.forced)&&void 0!==f){if(typeof p==typeof f)continue;s(p,f)}(t.sham||f&&f.sham)&&i(p,"sham",!0),a(r,l,p,t)}}},6699:(t,e,r)=>{var n=r(3724),o=r(4913),i=r(6980);t.exports=n?function(t,e,r){return o.f(t,e,i(1,r))}:function(t,e,r){return t[e]=r,t}},6706:(t,e,r)=>{var n=r(9504),o=r(9306);t.exports=function(t,e,r){try{return n(o(Object.getOwnPropertyDescriptor(t,e)[r]))}catch(t){}}},6801:(t,e,r)=>{var n=r(3724),o=r(8686),i=r(4913),a=r(8551),c=r(5397),s=r(1072);e.f=n&&!o?Object.defineProperties:function(t,e){a(t);for(var r,n=c(e),o=s(e),u=o.length,l=0;u>l;)i.f(t,r=o[l++],n[r]);return t}},6823:t=>{var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},6840:(t,e,r)=>{var n=r(4901),o=r(4913),i=r(283),a=r(9433);t.exports=function(t,e,r,c){c||(c={});var s=c.enumerable,u=void 0!==c.name?c.name:e;if(n(r)&&i(r,u,c),c.global)s?t[e]=r:a(e,r);else{try{c.unsafe?t[e]&&(s=!0):delete t[e]}catch(t){}s?t[e]=r:o.f(t,e,{value:r,enumerable:!1,configurable:!c.nonConfigurable,writable:!c.nonWritable})}return t}},6955:(t,e,r)=>{var n=r(2140),o=r(4901),i=r(4576),a=r(8227)("toStringTag"),c=Object,s="Arguments"===i(function(){return arguments}());t.exports=n?i:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=c(t),a))?r:s?i(e):"Object"===(n=i(e))&&o(e.callee)?"Arguments":n}},6969:(t,e,r)=>{var n=r(2777),o=r(757);t.exports=function(t){var e=n(t,"string");return o(e)?e:e+""}},6980:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},7040:(t,e,r)=>{var n=r(4495);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},7055:(t,e,r)=>{var n=r(9504),o=r(9039),i=r(4576),a=Object,c=n("".split);t.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"===i(t)?c(t,""):a(t)}:a},7347:(t,e,r)=>{var n=r(3724),o=r(9565),i=r(8773),a=r(6980),c=r(5397),s=r(6969),u=r(9297),l=r(5917),f=Object.getOwnPropertyDescriptor;e.f=n?f:function(t,e){if(t=c(t),e=s(e),l)try{return f(t,e)}catch(t){}if(u(t,e))return a(!o(i.f,t,e),t[e])}},7400:t=>{t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},7476:(t,e,r)=>{var n=r(4576),o=r(9504);t.exports=function(t){if("Function"===n(t))return o(t)}},7629:(t,e,r)=>{var n=r(6395),o=r(2195),i=r(9433),a="__core-js_shared__",c=t.exports=o[a]||i(a,{});(c.versions||(c.versions=[])).push({version:"3.41.0",mode:n?"pure":"global",copyright:"© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.41.0/LICENSE",source:"https://github.com/zloirock/core-js"})},7633:(t,e,r)=>{var n=r(7751),o=r(2106),i=r(8227),a=r(3724),c=i("species");t.exports=function(t){var e=n(t);a&&e&&!e[c]&&o(e,c,{configurable:!0,get:function(){return this}})}},7657:(t,e,r)=>{var n,o,i,a=r(9039),c=r(4901),s=r(34),u=r(2360),l=r(2787),f=r(6840),p=r(8227),d=r(6395),v=p("iterator"),h=!1;[].keys&&("next"in(i=[].keys())?(o=l(l(i)))!==Object.prototype&&(n=o):h=!0),!s(n)||a((function(){var t={};return n[v].call(t)!==t}))?n={}:d&&(n=u(n)),c(n[v])||f(n,v,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:h}},7680:(t,e,r)=>{var n=r(9504);t.exports=n([].slice)},7740:(t,e,r)=>{var n=r(9297),o=r(5031),i=r(7347),a=r(4913);t.exports=function(t,e,r){for(var c=o(e),s=a.f,u=i.f,l=0;l<c.length;l++){var f=c[l];n(t,f)||r&&n(r,f)||s(t,f,u(e,f))}}},7743:(t,e,r)=>{var n=r(6518),o=r(9565),i=r(9306),a=r(6043),c=r(1103),s=r(2652);n({target:"Promise",stat:!0,forced:r(537)},{race:function(t){var e=this,r=a.f(e),n=r.reject,u=c((function(){var a=i(e.resolve);s(t,(function(t){o(a,e,t).then(r.resolve,n)}))}));return u.error&&n(u.value),r.promise}})},7750:(t,e,r)=>{var n=r(4117),o=TypeError;t.exports=function(t){if(n(t))throw new o("Can't call method on "+t);return t}},7751:(t,e,r)=>{var n=r(2195),o=r(4901);t.exports=function(t,e){return arguments.length<2?(r=n[t],o(r)?r:void 0):n[t]&&n[t][e];var r}},7860:(t,e,r)=>{var n=r(2839);t.exports=/web0s(?!.*chrome)/i.test(n)},8014:(t,e,r)=>{var n=r(1291),o=Math.min;t.exports=function(t){var e=n(t);return e>0?o(e,9007199254740991):0}},8227:(t,e,r)=>{var n=r(2195),o=r(5745),i=r(9297),a=r(3392),c=r(4495),s=r(7040),u=n.Symbol,l=o("wks"),f=s?u.for||u:u&&u.withoutSetter||a;t.exports=function(t){return i(l,t)||(l[t]=c&&i(u,t)?u[t]:f("Symbol."+t)),l[t]}},8265:t=>{var e=function(){this.head=null,this.tail=null};e.prototype={add:function(t){var e={item:t,next:null},r=this.tail;r?r.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}},t.exports=e},8480:(t,e,r)=>{var n=r(1828),o=r(8727).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},8551:(t,e,r)=>{var n=r(34),o=String,i=TypeError;t.exports=function(t){if(n(t))return t;throw new i(o(t)+" is not an object")}},8622:(t,e,r)=>{var n=r(2195),o=r(4901),i=n.WeakMap;t.exports=o(i)&&/native code/.test(String(i))},8686:(t,e,r)=>{var n=r(3724),o=r(9039);t.exports=n&&o((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8727:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},8745:(t,e,r)=>{var n=r(616),o=Function.prototype,i=o.apply,a=o.call;t.exports="object"==typeof Reflect&&Reflect.apply||(n?a.bind(i):function(){return a.apply(i,arguments)})},8773:(t,e)=>{var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!r.call({1:2},1);e.f=o?function(t){var e=n(this,t);return!!e&&e.enumerable}:r},8981:(t,e,r)=>{var n=r(7750),o=Object;t.exports=function(t){return o(n(t))}},9039:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},9225:(t,e,r)=>{var n,o,i,a,c=r(2195),s=r(8745),u=r(6080),l=r(4901),f=r(9297),p=r(9039),d=r(397),v=r(7680),h=r(4055),y=r(2812),m=r(9544),g=r(6193),x=c.setImmediate,S=c.clearImmediate,b=c.process,E=c.Dispatch,w=c.Function,O=c.MessageChannel,L=c.String,T=0,C={},j="onreadystatechange";p((function(){n=c.location}));var A=function(t){if(f(C,t)){var e=C[t];delete C[t],e()}},R=function(t){return function(){A(t)}},I=function(t){A(t.data)},k=function(t){c.postMessage(L(t),n.protocol+"//"+n.host)};x&&S||(x=function(t){y(arguments.length,1);var e=l(t)?t:w(t),r=v(arguments,1);return C[++T]=function(){s(e,void 0,r)},o(T),T},S=function(t){delete C[t]},g?o=function(t){b.nextTick(R(t))}:E&&E.now?o=function(t){E.now(R(t))}:O&&!m?(a=(i=new O).port2,i.port1.onmessage=I,o=u(a.postMessage,a)):c.addEventListener&&l(c.postMessage)&&!c.importScripts&&n&&"file:"!==n.protocol&&!p(k)?(o=k,c.addEventListener("message",I,!1)):o=j in h("script")?function(t){d.appendChild(h("script"))[j]=function(){d.removeChild(this),A(t)}}:function(t){setTimeout(R(t),0)}),t.exports={set:x,clear:S}},9296:(t,e,r)=>{var n=r(4055)("span").classList,o=n&&n.constructor&&n.constructor.prototype;t.exports=o===Object.prototype?void 0:o},9297:(t,e,r)=>{var n=r(9504),o=r(8981),i=n({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return i(o(t),e)}},9306:(t,e,r)=>{var n=r(4901),o=r(6823),i=TypeError;t.exports=function(t){if(n(t))return t;throw new i(o(t)+" is not a function")}},9433:(t,e,r)=>{var n=r(2195),o=Object.defineProperty;t.exports=function(t,e){try{o(n,t,{value:e,configurable:!0,writable:!0})}catch(r){n[t]=e}return e}},9504:(t,e,r)=>{var n=r(616),o=Function.prototype,i=o.call,a=n&&o.bind.bind(i,i);t.exports=n?a:function(t){return function(){return i.apply(t,arguments)}}},9519:(t,e,r)=>{var n,o,i=r(2195),a=r(2839),c=i.process,s=i.Deno,u=c&&c.versions||s&&s.version,l=u&&u.v8;l&&(o=(n=l.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!o&&a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(o=+n[1]),t.exports=o},9539:(t,e,r)=>{var n=r(9565),o=r(8551),i=r(5966);t.exports=function(t,e,r){var a,c;o(t);try{if(!(a=i(t,"return"))){if("throw"===e)throw r;return r}a=n(a,t)}catch(t){c=!0,a=t}if("throw"===e)throw r;if(c)throw a;return o(a),r}},9544:(t,e,r)=>{var n=r(2839);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},9565:(t,e,r)=>{var n=r(616),o=Function.prototype.call;t.exports=n?o.bind(o):function(){return o.apply(o,arguments)}},9617:(t,e,r)=>{var n=r(5397),o=r(5610),i=r(6198),a=function(t){return function(e,r,a){var c=n(e),s=i(c);if(0===s)return!t&&-1;var u,l=o(a,s);if(t&&r!=r){for(;s>l;)if((u=c[l++])!=u)return!0}else for(;s>l;l++)if((t||l in c)&&c[l]===r)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);r(3792),r(3362),r(1699),r(1392),r(2953);let n=null,o=!1,i=null;function a(){i=chrome.runtime.connect({name:"popup"}),i.onMessage.addListener(c),i.onDisconnect.addListener((()=>{i=null,setTimeout(a,1e3)}))}function c(t){if("ANALYSIS_STATUS"===t.type)s(t.data),f(t.data);else if("ANALYSIS_COMPLETE"===t.type){s(t.data),f(t.data),u(t.data),l(t.data),function(t){var e;const r="low"===t.threatLevel&&(null===(e=t.details)||void 0===e||null===(e=e.checks)||void 0===e?void 0:e.every((t=>"danger"!==t.status)))?"safe.html":"warning.html";chrome.storage.local.set({lastAnalysis:{url:n.url,result:t,timestamp:Date.now()}},(()=>{chrome.windows.create({url:chrome.runtime.getURL(r),type:"popup",width:400,height:300,focused:!0}).catch((t=>{console.error("Error showing notification popup:",t)}))}))}(t.data);const e=document.getElementById("refreshAnalysis");e.disabled=!1,e.textContent="Refresh Analysis",o=!1}else if("ANALYSIS_STARTED"===t.type){var e;!function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Analyzing...";const r=document.querySelector(".status-card"),n=document.querySelector(".status-icon");t?(r.classList.add("analyzing"),n.classList.add("analyzing"),r.querySelector(".status-message").textContent=e):(r.classList.remove("analyzing"),n.classList.remove("analyzing"))}(!0,(null===(e=t.data)||void 0===e?void 0:e.message)||"Analyzing...");document.getElementById("refreshAnalysis").disabled=!0}else if("ANALYSIS_ERROR"===t.type){!function(t){const e=document.querySelector(".status-card");e.classList.remove("analyzing"),e.classList.add("error"),e.querySelector(".status-message").textContent=t}(t.error||"An error occurred during analysis");document.getElementById("refreshAnalysis").disabled=!1}else"FEATURE_STATUS"===t.type&&function(t,e){const r=document.querySelector(`[data-feature="${t}"]`);if(r){const t=r.querySelector(".feature-status");t.className="feature-status "+(e?"active":"inactive"),t.textContent=e?"Active":"Inactive"}}(t.featureId,t.isActive)}function s(t){const e=t.threatLevel||"unknown",r=t.message||"Unknown status",n=document.getElementById("threatLevel"),o=document.getElementById("statusMessage"),i=document.getElementById("threatStatus");i.className=`status-card ${e}`,n.textContent="EMAIL_ANALYSIS"===t.type?"Email Analysis":"Website Security",o.textContent=r;const a=i.querySelector(".status-icon");a.className=`status-icon ${e}`,"analyzing"===e&&a.classList.add("analyzing")}function u(t){document.getElementById("analysisDetails");const e=document.getElementById("threatsList"),r=document.getElementById("patternsList"),n=document.getElementById("recommendationsList");if(e.innerHTML="",r.innerHTML="",n.innerHTML="",t.details){if("DOMAIN_ANALYSIS"===t.type&&t.details.domain){const r=document.createElement("div");r.className="domain-info",r.innerHTML=`<strong>Domain:</strong> ${t.details.domain}`,e.appendChild(r),t.details.checks&&t.details.checks.forEach((t=>{const r=document.createElement("div");r.className=`check-item ${t.status}`,r.innerHTML=`\n                        <span class="check-type">${t.type}</span>\n                        <span class="check-message">${t.message}</span>\n                    `,e.appendChild(r)}))}else if("ERROR"===t.type){const r=document.createElement("div");r.className="check-item error",r.innerHTML=`\n                <span class="check-type">Error</span>\n                <span class="check-message">${t.details.error||"Unknown error occurred"}</span>\n            `,e.appendChild(r)}t.details.recommendations&&t.details.recommendations.length>0?t.details.recommendations.forEach((t=>{const e=document.createElement("div");e.className=`recommendation-item ${t.severity}`,e.textContent=t.message,n.appendChild(e)})):n.innerHTML='<p class="empty-state">No recommendations needed</p>',t.details.suspiciousLinks&&t.details.suspiciousLinks.length>0?t.details.suspiciousLinks.forEach((t=>{const e=document.createElement("div");e.className="pattern-item",e.textContent=t,r.appendChild(e)})):r.innerHTML='<p class="empty-state">No suspicious patterns detected</p>'}document.getElementById("lastUpdated").textContent=(new Date).toLocaleTimeString()}function l(t){chrome.storage.local.get(["threatsBlocked","sitesChecked","linksScanned"],(e=>{var r;document.getElementById("threats-blocked").textContent=e.threatsBlocked||0,document.getElementById("sites-checked").textContent=e.sitesChecked||0;const n=document.getElementById("links-scanned");n&&(n.textContent=e.linksScanned||0);const o=document.getElementById("safety-score");o&&null!=t&&null!==(r=t.details)&&void 0!==r&&r.securityScore&&(o.textContent=`${Math.round(t.details.securityScore)}%`)}))}function f(t){var e,r;const n=document.querySelector(".guarantee-status"),o=n.querySelector(".guarantee-message"),i=n.querySelectorAll(".verify-item");if(n.classList.remove("analyzing","not-genuine"),"ANALYZING"===t.type)return n.classList.add("analyzing"),o.textContent="Analyzing Website...",void i.forEach((t=>{t.querySelector(".verify-icon").textContent="↻"}));const a="low"===t.threatLevel&&(null===(e=t.details)||void 0===e||null===(e=e.checks)||void 0===e?void 0:e.every((t=>"danger"!==t.status)));a?(o.textContent="Guaranteed Genuine",i.forEach((t=>{t.querySelector(".verify-icon").textContent="✓"}))):(n.classList.add("not-genuine"),o.textContent="Not Verified",i.forEach((t=>{t.querySelector(".verify-icon").textContent="×"})));const[c,s,u]=i;if(null!==(r=t.details)&&void 0!==r&&r.checks){const e=t.details.checks.find((t=>t.type.includes("domain"))),r=t.details.checks.find((t=>t.type.includes("ssl")));c.querySelector(".verify-text").textContent="safe"===(null==e?void 0:e.status)?"Domain Verified":"Domain Not Verified",s.querySelector(".verify-text").textContent="safe"===(null==r?void 0:r.status)?"SSL Secure":"SSL Not Secure",u.querySelector(".verify-text").textContent=a?"No Threats Detected":"Threats Detected"}}function p(t){t?(s(t),u(t),function(t){const e=document.getElementById("recommendationsList");if(e.innerHTML="",0===t.length)return void(e.innerHTML='<li class="empty-state">No recommendations needed</li>');t.forEach((t=>{const r=document.createElement("li");r.className="recommendation-item",r.textContent=t,e.appendChild(r)}))}(t.recommendations||[]),l(t)):s({type:"ERROR",threatLevel:"unknown",message:"Failed to get safety check results"})}async function d(){if(o||!n)return;o=!0;const t=document.getElementById("refreshAnalysis");t.disabled=!0,t.textContent="Checking...";try{s({type:"CHECKING",message:"Refreshing safety check..."}),chrome.runtime.sendMessage({type:"GET_SAFETY_CHECK",tabId:n.id},p)}catch(t){console.error("Error refreshing safety check:",t),s({type:"ERROR",threatLevel:"unknown",message:"Failed to refresh check"})}finally{t.disabled=!1,t.textContent="Refresh Check",o=!1}}document.addEventListener("DOMContentLoaded",(async()=>{try{a();const[t]=await chrome.tabs.query({active:!0,currentWindow:!0});if(n=t,!t.url||t.url.startsWith("chrome://"))return void s({type:"ERROR",threatLevel:"unknown",message:"Cannot check this page"});s({type:"CHECKING",message:"Checking site safety..."}),chrome.runtime.sendMessage({type:"GET_SAFETY_CHECK",tabId:t.id},p);document.getElementById("refreshAnalysis").addEventListener("click",d);document.getElementById("reportIssue").addEventListener("click",(()=>{chrome.tabs.create({url:"https://example.com/report"})}));document.getElementById("settings-btn").addEventListener("click",(()=>{chrome.runtime.openOptionsPage()})),l()}catch(t){console.error("Error initializing popup:",t),s({type:"ERROR",threatLevel:"unknown",message:"Failed to initialize"})}})),chrome.runtime.onMessage.addListener((t=>{"ANALYSIS_STATUS"===t.type?s(t.data):"ANALYSIS_COMPLETE"===t.type&&(p(t.data),l(t.data))}))})();